#!/system/bin/sh
#echo "$0 $*"> /proc/fac_printklog

help() {
    echo "
	Description: Keypad_Test_Mode... 
	FORMAT: Keypad_Test_Mode para1... 
	Para1 : Key code number (1:enter Keypad_Test_Mode/0:leave Keypad_Test_Mode)
"
exit 0
}

setprop factory.fingerprintd 1
setprop factory.gx_fpd 1
#===============================
#main 
#===============================
case $1 in
#Leave Keypad_Test_Mode
"0")
/vendor/bin/Keypad_Test_AP 0
cat /sys/module/qpnp_power_on/parameters/pwrkey_mode | grep "0" > /dev/null
if [ "$?" = 0 ]; then
echo "PASS"
else
echo "Fail"
fi
;;
#Enter Keypad_Test_Mode
"1")
/vendor/bin/Keypad_Test_AP 1
cat /sys/module/qpnp_power_on/parameters/pwrkey_mode | grep "1" > /dev/null
if [ "$?" = 0 ]; then
echo "PASS"
else
echo "Fail"
fi
;;
*)
    help
;;
esac

setprop factory.fingerprintd 0
setprop factory.gx_fpd 0

exit 0

