#!/system/bin/sh

DIR="/sys/camera_sensor/status"

NODE_NAMES=(
front
front2
)

function get_status()
{
	node=${NODE_NAMES[$1]}
	#echo "node for index $1 is $node"
	if [ -e $DIR/$node ]
	then
		status=$(cat $DIR/$node)
		if [ ${status:0:3} = "ACK" ]
		then
			echo "1"
		else
			echo "0"
		fi
	else
		echo "no status data for $node"
	fi
}

if [ $# -eq 0 ]
then
	id=0
elif [ $# -ne 1 ]
then
	echo "Please input front camera id [0-1]"
	exit 1
else
	id=$1
fi

case $id in
"0")
	get_status 0
;;
"1")
	get_status 1
;;
*)
	echo "invalid front camera id! valid is [0-1]"
;;
esac
